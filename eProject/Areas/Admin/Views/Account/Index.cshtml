@{
    ViewBag.Title = "Account Management";
}
@section styles {
    <link rel="stylesheet" href="~/Content/Css/AdminCss/Account/Index.css" />
}

<h1 class="page-title">
    Account Management
</h1>
<nav class="topNav">
    <div class="topNav-search">
        @using (Html.BeginForm("Search", "Account", new { area = "Admin" }, FormMethod.Post, new { @class = "searchForm" }))
        {
            <input class="searchForm-input" name="keyword" placeholder="Enter ..." />
            <button class="searchForm-btn">
                <i class="fa-solid fa-magnifying-glass"></i>
            </button>
        }
    </div>
</nav>

<div class="dataBox">
    <h3 class="dataBox-heading">
        List account
    </h3>

    <div class="orders">
        @foreach (eProject.Models.ViewModels.Account.AccountViewModel account in ViewBag.accounts)
        {
            <div class="orderItem">
                <div class="row">
                    <div class="col-xl-4">
                        <img class="orderItem-thumbnail" src="~/Uploads/ServiceThumbnails/@account.Thumbnail" alt="Thumbnail" />
                    </div>
                    <div class="col-xl-6">
                        <h3 class="orderItem-serviceName">
                            @account.ServiceName
                        </h3>
                        <p class="orderItem-line">
                            <i style="color: green;" class="fa-solid fa-rss"></i>
                            Status:
                            @account.Status
                        </p>
                        <p class="orderItem-line">
                            Customer:
                            @account.CustomerName
                        </p>
                        <p class="orderItem-line">
                            Contact Number:
                            @account.ContactNumber
                        </p>
                        <p class="orderItem-line">
                            <i class="fa-solid fa-calendar-days"></i>
                            Connected at
                            @account.ConnectedAt.ToString("dd/MM/yyyy")
                        </p>
                        <p class="orderItem-line">
                            Connect Quantity:
                            @account.ConnectQuantity
                        </p>
                        <p class="orderItem-line">
                            <i class="fa-solid fa-calendar-days"></i>
                            Due date:
                            @if (DateTime.Now.Date == account.DueDate.Date)
                            {
                                <span style="color: #a4c639;">Today</span>
                            }
                            else
                            {
                                @account.DueDate.ToString("dd/MM/yyyy")
                            }
                        </p>
                    </div>
                    <div class="col-xl-2">
                        <div class="orderItem-actions">
                            <a class="orderItem-actionItem" href="/Admin/Account/Detail?accountID=@account.AccountID">
                                Detail
                            </a>
                            <a class="orderItem-actionItem" href="#" style="background: #e52b50; color: #fff;">
                                Delete
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>